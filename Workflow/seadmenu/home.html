<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
<!-- local copy of UM css that references local fonts  -->
<link rel="stylesheet" id="spacious_style-css" href="login_css/um-style.css?ver=3.9.1" type="text/css" media="all"> 
<link href='//fonts.googleapis.com/css?family=Lato&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
<link href='//fonts.googleapis.com/css?family=Raleway:400,100,200,300,500,600,700,800,900' rel='stylesheet' type='text/css'>
<title>Research Network | SEAD </title>
<script src="//code.jquery.com/jquery-latest.js"></script>
<script type="text/javascript" src="login_scripts/cnss.js"></script>

<link rel="stylesheet" id="spacious_style-css" href="login_css/seadmenu.css" type="text/css" media="all">


</head>


<body class="home page wide-1218">	
	<div id="page" class="hfeed site">
		<header id="masthead" class="site-header clearfix">
			<div id="header-text-nav-wrap" class="clearfix">
	
	<!-- #header-logo-image -->
	<div id="header-left-section">
		<div id="header-logo-image">
			<a href="http://sead-data.net/" title="SEAD" rel="home"><img src="http://sead-data.net/wp-content/uploads/2014/06/logo.png" alt="SEAD"></a>
		</div>
	<!-- #header-logo-image -->

	<!-- #header-right-section social icons--> 
	<div id="header-right-section">
		<div id="header-right-sidebar" class="clearfix">
			<aside id="cnss_widget-3" class="widget widget_cnss_widget">
				<table class="cnss-social-icon" style="width:138px" border="0" cellspacing="0" cellpadding="0">
					<tbody>
						<tr>
							<td >
								<a target="_blank" title="facebook" href="https://www.facebook.com/SEADDataNet">
									<img src="http://sead-data.net/wp-content/uploads/1403285144_facebook.png" border="0" width="32" height="32" alt="facebook">
								</a>
							</td>
							<td >
								<a target="_blank" title="twitter" href="https://twitter.com/SEADdatanet">
									<img src="http://sead-data.net/wp-content/uploads/1403285215_twitter.png" border="0" width="32" height="32" alt="twitter">
								</a>
							</td>
							<td >
								<a target="_blank" title="Slideshare" href="http://www.slideshare.net/SEADdatanet">
									<img src="http://sead-data.net/wp-content/uploads/1403285311_slidershare.png" border="0" width="32" height="32" alt="Slideshare">
								</a>
							</td>
							<td ><a target="_blank" title="Rss Feed" href="http://www.sead-data.net/?cat=11,12,13,29,30,31&amp;feed=rss2"><img src="http://sead-data.net/wp-content/uploads/1415982481_rss.png" border="0" width="32" height="32" alt="Rss Feed" style="opacity: 1;"></a></td>
						</tr>
					</tbody>
				</table>
			</aside>
		</div>
		</div>
		<!-- #header-right-section --> 

                       
  

	</div><!-- #header-left-section -->
	</div>

</header>
<div style="margin:auto;}">
   
<script type=text/javascript>

function pingWorkflow() {
    var reqText = 'http://129.79.44.236:8180/va-workflow/service/ping';
    var xhr = new XMLHttpRequest();
    xhr.open("GET", reqText, false);
    xhr.setRequestHeader('Content-Type', 'text/plain');
    xhr.send();

    document.getElementById('pingArea').value = "<no results>";

    parser=new DOMParser();
    var xmlDoc=parser.parseFromString(xhr.responseText,"text/xml"); 
    document.getElementById('pingArea').value = xhr.responseText;    
}

function getMetadata() {
    var reqText = document.getElementById('instanceSelect').value
        + '/resteasy/collections/' + document.getElementById('ROSelect').value + '/unique';
    document.getElementById('pingArea').value = reqText; 
    var xhr = new XMLHttpRequest();
    xhr.open("GET", reqText, false);
    xhr.setRequestHeader('Content-Type', 'text/plain');
    xhr.send();

    document.getElementById('DataArea').value = "<no results>";

    parser=new DOMParser();
    var xmlDoc=parser.parseFromString(xhr.responseText,"text/xml"); 
    document.getElementById('DataArea').value = xhr.responseText;    
}

function submitWorkflow() {
    var reqText = 'http://129.79.44.236:8180/va-workflow/service/publishRO/'
        + document.getElementById('ROSelect').value + '?psId=' + document.getElementById("instanceSelect").selectedIndex;
        document.getElementById('pingArea').value = reqText; 
    var xhr = new XMLHttpRequest();
    xhr.open("GET", reqText, false);
    xhr.setRequestHeader('Content-Type', 'text/plain');
    xhr.send();

    document.getElementById('DataArea').value = "<no results>";

    parser=new DOMParser();
    var xmlDoc=parser.parseFromString(xhr.responseText,"text/xml"); 
    document.getElementById('DataArea').value = xhr.responseText;    
}

function OpenInNewTab(url) {
  var win = window.open(url, '_blank');
  win.focus();
}

</script>    
    
<div id="myoutercontainer">

    <h2>&nbsp;SEAD 2.0 Curation & Publishing Workflow testing environment</h2>  

    &nbsp;
    <button id="workflow-button" onclick="pingWorkflow()"><img id="sead-logo" src="sead2020.png" width='24' height='24' alt="SEAD logo"/>Ping Workflow</button>
    &nbsp;
    <button id="workflow-button" onclick="OpenInNewTab('http://seadva-test.d2i.indiana.edu:15672/#/queues/%2F/MatchmakerQueue_MMtest')"><img id="sead-logo" src="sead2020.png" width='24' height='24' alt="SEAD logo"/>Rabbit MQ</button>    
    &nbsp;
    <button id="workflow-button" onclick="OpenInNewTab('http://129.79.44.236:8180/examples/jsp/graph.html')"><img id="sead-logo" src="sead2020.png" width='24' height='24' alt="SEAD logo"/>Workflow Graph</button>    
    &nbsp;    
    <textarea readonly id="pingArea" name="pingArea" rows="1" cols="30">&nbsp; </textarea> 
    <p></p>
</div>    
     
<div id="myoutercontainer">

        &nbsp;
    <button id="workflow-button" onclick="getMetadata()"><img id="sead-logo" src="sead2020.png" width='24' height='24' alt="SEAD logo"/>Get Metadata</button>   
        &nbsp;
    <button id="workflow-button" onclick="submitWorkflow()"><img id="sead-logo" src="sead2020.png" width='24' height='24' alt="SEAD logo"/>Intent to Publish</button>   
        &nbsp;    
    <select id="ROSelect">
        <option selected disabled>Select a Research Object:</option>
        <option value="tag:medici@uiuc.edu,2009:col_SqW5XUYSfhZ627ghxBfaMQ">demo1</option>
        <option value="tag:medici@uiuc.edu,2009:col_sdU-5eGX8Pc9mq-IZ0GfKg">Dharma's IDCC 2015 collection</option>
        <option value="tag:medici@uiuc.edu,2009:col_y6NZYYfVgEfkAAY8bto9ng">1261_bundle</option>
        <option value="x">Some messed up RO to test errors</option>
    </select>    
        &nbsp;
        <select id="instanceSelect">
        <option selected disabled>Select a Test Site:</option>
        <option value="https://sead-test.ncsa.illinois.edu/acr">SEAD Beta Test Site</option>
        <option value="https://nced.ncsa.illinois.edu/acr">National Center for Earth-surface Dynamics</option>
        <option value="https://sen.ncsa.illinois.edu/acr">Sediment Experimentalist Network</option>
        <option value="x">Some messed up RO to test errors</option>
    </select>    
        &nbsp;
    <textarea readonly id="DataArea" name="DataArea" rows="15" cols="60">&nbsp; </textarea> 
    <p></p>
</div>       
    
</div>

<footer id="colophon" class="clearfix">	
			<div class="footer-socket-wrapper clearfix">
				<div class="inner-wrap">
					<div class="footer-socket-area">
						<div class="copyright"><img id="nsf" src="http://sead-data.net/wp-content/uploads/2014/06/nsf2.png" alt="NSF " width="30px" height="30px">SEAD is funded by the National Science Foundation under cooperative agreement #OCI0940824.</div>						
						<nav class="small-menu">
							<div class="menu-footer-menu-container">
								<ul id="menu-footer-menu" class="menu">	
									<a href="http://sead-data.net/contactus/">Contact Us</a>
								</li>
								</ul>
							</div>	
					</nav>	
					</div>
				</div>
			</div>
		</footer>
		
</body>
</html>
