<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
<!-- local copy of UM css that references local fonts  -->
<link rel="stylesheet" id="spacious_style-css" href="login_css/um-style.css?ver=3.9.1" type="text/css" media="all"> 
<link href='//fonts.googleapis.com/css?family=Lato&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
<link href='//fonts.googleapis.com/css?family=Raleway:400,100,200,300,500,600,700,800,900' rel='stylesheet' type='text/css'>
<title>Research Network | SEAD </title>
<script src="//code.jquery.com/jquery-latest.js"></script>
<script type="text/javascript" src="login_scripts/cnss.js"></script>

<link rel="stylesheet" id="spacious_style-css" href="login_css/seadmenu.css" type="text/css" media="all">


</head>


<body class="home page wide-1218">	
	<div id="page" class="hfeed site">
		<header id="masthead" class="site-header clearfix">
			<div id="header-text-nav-wrap" class="clearfix">
	
	<!-- #header-logo-image -->
	<div id="header-left-section">
		<div id="header-logo-image">
			<a href="http://sead-data.net/" title="SEAD" rel="home"><img src="http://sead-data.net/wp-content/uploads/2014/06/logo.png" alt="SEAD"></a>
		</div>
	<!-- #header-logo-image -->

	<!-- #header-right-section social icons--> 
	<div id="header-right-section">
		<div id="header-right-sidebar" class="clearfix">
			<aside id="cnss_widget-3" class="widget widget_cnss_widget">
				<table class="cnss-social-icon" style="width:138px" border="0" cellspacing="0" cellpadding="0">
					<tbody>
						<tr>
							<td >
								<a target="_blank" title="facebook" href="https://www.facebook.com/SEADDataNet">
									<img src="http://sead-data.net/wp-content/uploads/1403285144_facebook.png" border="0" width="32" height="32" alt="facebook">
								</a>
							</td>
							<td >
								<a target="_blank" title="twitter" href="https://twitter.com/SEADdatanet">
									<img src="http://sead-data.net/wp-content/uploads/1403285215_twitter.png" border="0" width="32" height="32" alt="twitter">
								</a>
							</td>
							<td >
								<a target="_blank" title="Slideshare" href="http://www.slideshare.net/SEADdatanet">
									<img src="http://sead-data.net/wp-content/uploads/1403285311_slidershare.png" border="0" width="32" height="32" alt="Slideshare">
								</a>
							</td>
							<td ><a target="_blank" title="Rss Feed" href="http://www.sead-data.net/?cat=11,12,13,29,30,31&amp;feed=rss2"><img src="http://sead-data.net/wp-content/uploads/1415982481_rss.png" border="0" width="32" height="32" alt="Rss Feed" style="opacity: 1;"></a></td>
						</tr>
					</tbody>
				</table>
			</aside>
		</div>
		</div>
		<!-- #header-right-section --> 

                       
  

	</div><!-- #header-left-section -->
	</div>

</header>
<div style="margin:auto;}">
   
<script type=text/javascript>

function openORCID() {
    var reqText = 'http://pub.orcid.org/v1.1/search/orcid-bio?q=' + 
        document.getElementById('mySearcharea').value;
    var xhr = new XMLHttpRequest();
    xhr.open("GET", reqText, false);
    xhr.send();

    document.getElementById('myIDarea').value = "<no results>";
    document.getElementById('myTextarea').value = "";

    parser=new DOMParser();
    var xmlDoc=parser.parseFromString(xhr.responseText,"text/xml"); 
    var sURI = xmlDoc.getElementsByTagName("uri")[0].innerHTML;
    var sSub = sURI.substring(17, 37);

    document.getElementById('myIDarea').value = sSub;

}

function pingWorkflow() {
    var reqText = 'http://129.79.44.236:8080/va-workflow-2.0.0-SNAPSHOT/service/ping'; 

    var xhr = new XMLHttpRequest();
    xhr.open("GET", reqText, false);
    xhr.setRequestHeader('Content-Type', 'text/plain');
    document.getElementById('pingArea').value = 'no response from server';
    xhr.send();
    document.getElementById('pingArea').value = xhr.responseText;
}

function submitWorkflow() {
    document.getElementById('myIDarea').value = 'starting...';
    var reqText = 'http://129.79.44.236:8080/va-workflow-2.0.0-SNAPSHOT/service/ping'; 

    document.getElementById('myIDarea').value = 'set reqText...';

    var xhr = new XMLHttpRequest();
    document.getElementById('myIDarea').value = 'set xhr...';
    xhr.open("GET", reqText, false);
          xhr.onreadystatechange = function() {
             if (oReq.readyState == 4 && oReq.status == 200) {
                document.getElementById("myIDarea").value = "Response Received!";
             }
          }    
    
    document.getElementById('myIDarea').value = 'open GET...';
    xhr.setRequestHeader('Content-Type', 'text/plain');
    document.getElementById('myIDarea').value = 'set content...';
    
try {
    xhr.send();
}
catch(err) {
    document.getElementById('myIDarea').value = err.message;
}        

    
//    document.getElementById('myIDarea').value = xhr.status;

//    document.getElementById('myIDarea').value = "<no results>";

//    parser=new DOMParser();
//    var xmlDoc=parser.parseFromString(xhr.responseText,"text/xml"); 
//    var sURI = xmlDoc.getElementsByTagName("uri")[0].innerHTML;
//    var sSub = sURI.substring(17, 37);

    document.getElementById('myIDarea').value = xhr.responseText;


</script>    
    
<div id="myoutercontainer">

    <h2>&nbsp;SEAD 2.0 Curation & Publishing Workflow testing environment</h2>  

    &nbsp;
    <button id="workflow-button" onclick="openORCID()"><img id="sead-logo" src="sead2020.png" width='24' height='24' alt="SEAD logo"/>Ping Workflow</button>
        &nbsp;
    <textarea readonly id="pingArea" name="pingArea" rows="1" cols="30">&nbsp;yo</textarea> 

</div>

<div>
        &nbsp;
    <button id="workflow-button" onclick="submitWorkflow()"><img id="sead-logo" src="sead2020.png" width='24' height='24' alt="SEAD logo"/>Intent to Publish</button>   
        &nbsp;
    <select id="ROSelect">
        <option selected disabled>Available for Publication:</option>
        <option value="tag:medici@uiuc.edu,2009:col_SqW5XUYSfhZ627ghxBfaMQ?psId=1 ">RO 1</option>
        <option value="RO 23">RO 23</option>
        <option value="Another RO">Another RO</option>
        <option value="Some messed up RO">Some messed up RO</option>
    </select>    
</div>    
    
    
<textarea readonly id="mySearcharea" name="searcharea" rows="1" cols="30"></textarea>     


<textarea readonly id="myIDarea" name="idarea" rows="1" cols="30"></textarea>     
    
     
</div>

<footer id="colophon" class="clearfix">	
			<div class="footer-socket-wrapper clearfix">
				<div class="inner-wrap">
					<div class="footer-socket-area">
						<div class="copyright"><img id="nsf" src="http://sead-data.net/wp-content/uploads/2014/06/nsf2.png" alt="NSF " width="30px" height="30px">SEAD is funded by the National Science Foundation under cooperative agreement #OCI0940824.</div>						
						<nav class="small-menu">
							<div class="menu-footer-menu-container">
								<ul id="menu-footer-menu" class="menu">	
									<a href="http://sead-data.net/contactus/">Contact Us</a>
								</li>
								</ul>
							</div>	
					</nav>	
					</div>
				</div>
			</div>
		</footer>
		
</body>
</html>
